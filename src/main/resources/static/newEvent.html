<!DOCTYPE html>
<html ng-app="NewEventApp">
<head>
<title>New Event App</title>
<meta charset="utf-8">

<script
        src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<link
        href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.0/css/bootstrap-combined.min.css"
        rel="stylesheet">
<link rel="stylesheet" type="text/css" href="home.css" />

<style> 
.button {
    border-radius: 25px;
    background: #ff80df;
    border: none;
    color: white;
    padding: 10px; 
    width: 200px;
    height: 100px;  
    display: inline-block;
    transition-duration: 0.7s;
    cursor: pointer;  
}

.button1 {
    background-color: #ff80df; 
    color: black; 
}

.button1:hover {
    background-color: white;
    color: black;
    border: 2px solid #ff80df;
}

input:hover, select:hover, button:hover{
   background-color: grey;
   }


</style>

<script>
var app = angular.module('NewEventApp', []);

app.controller('NewEventCtrl', function($scope, $http) {
   $scope.event = {};
   $scope.event.guests = [""];

   $scope.createNewEvent = function() {
	var postRequest = {
		method: 'POST',
		url: 'http://localhost:8080/event',
		data: {
			eventName: $scope.event.name,
			guests: $scope.event.guests,
			date: $scope.event.date,
			location: $scope.event.location,
			description: $scope.event.description,
			theme: $scope.event.theme
		}
	}
	$http(postRequest).then(function(response) {
		console.log(response);
      		window.location.href = '/items_list.html';
	});
   };

   $scope.addAnotherGuest = function() {
      $scope.event.guests.push("");
   };

});


</script>
</head>
   
<body>
   <div ng-controller="NewEventCtrl">
   <center>
   <p> </p>     

   <font size = "14">Let's Start the Planning!</font> </p>
 
   Event Name: <input ng-model="event.name"/> </p>
   <table>
      <tr ng-repeat="guest in event.guests track by $index">
         <td>
            Guests: <input ng-model="event.guests[$index]"/> </p>
	 </td>
      </tr>
   </table>
	    <button ng-click="addAnotherGuest()">Add another guest</button></p>
   When: <input ng-model="event.date"/> </p>
   Where: <input ng-model="event.location"/> </p>

   Themes:
      <select ng-model="event.theme">
         <option value="Wedding">Wedding</option>
         <option value="Baby Shower">Baby Shower</option>
         <option value="Birthday">Birthday</option>
         <option value="Outdoor Activity">Outdoor Activity</option>
         <option value="Christmas">Christmas</option>
         <option value="Halloween">Halloween</option>
         <option value="House Warming">House Warming</option>
      </select> </p>
   
   <button ng-click="createNewEvent()" class="button button1"> <font size = "6">Next</button></font> 
  
    </center>
     
</div>
</body>
</html>
